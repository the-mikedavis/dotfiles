# vim:syntax=dosini

[colors]
background = #880c131f
background-alt = #ff0c131f
foreground = #eeeeee
foreground-alt = #eee
primary = #85c174
secondary = #c6643d
tertiary = #d07ef2
fourth = #f57e47

; #f3746f

alert = #ed404c

[bar/main]
width = 100%
height = 34
radius = 0.0
fixed-center = true
monitor = ${env:MONITOR:DisplayPort-1}

background = ${colors.background}
foreground = ${colors.foreground}

padding-left = 1
padding-right = 5
module-margin = 4
spacing = 2

font-0 = NotoSans-Regular:size=10;0
font-1 = FontAwesome:size=10;1
font-2 = MaterialIcons:size=10;1
font-3 = Unifont:size=8;-2
font-4 = Unifont:size=8;2
font-5 = Weather Icons:size=12;0
font-6 = Iosevka:size=10;2

modules-left = i3 weather github
modules-right = vpn cpu memory audio date
modules-center = xwindow

tray-position = right
tray-padding = 5

cursor-click = pointer
cursor-scroll = ns-resize

[module/xwindow]
type = internal/xwindow
label = %title:0:20:...%


[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock

format-prefix = " "
format-prefix-foreground = ${colors.foreground-alt}
format-prefix-underline = ${colors.secondary}

label-layout = %layout%
label-layout-underline = ${colors.secondary}
label-indicator-padding = 2
label-indicator-margin = 1
label-indicator-background = ${colors.secondary}
label-indicator-underline = ${colors.secondary}


[module/filesystem]
type = internal/fs
interval = 1337
mount-0 = /

label-mounted = /dev/sda at %mountpoint%: %percentage_used%% of %total%
label-unmounted = %mountpoint% not mounted
label-unmounted-foreground = ${colors.foreground-alt}

[module/i3]
type = internal/i3
pin-workspaces = true
strip-wsnumbers = true
index-sort = true
enable-click = true
enable-scroll = false
wrapping-scroll = false
reverse-scroll = false
fuzzy-match = true

ws-icon-default = 
ws-icon-0 = "1;"
ws-icon-1 = "2;"
ws-icon-2 = "3;"
ws-icon-3 = "4;"
ws-icon-4 = "5;5"
ws-icon-5 = "6;6"
ws-icon-6 = "7;7"
ws-icon-7 = "8;"
ws-icon-8 = "9;"
ws-icon-9 = "0;0"

format = <label-state> <label-mode>
label-mode = %mode%
label-mode-padding = 5
label-mode-foreground = #000
label-mode-background = ${colors.primary}

label-focused = %icon%
label-focused-foreground = #ffffff
label-focused-background = ${colors.background-alt}
label-focused-underline= ${colors.primary}
label-focused-padding = 5

label-unfocused = %icon%
label-unfocused-padding = 5

label-visible = %index%
label-visible-background = ${self.label-focused-background}
label-visible-underline = ${self.label-focused-underline}
label-visible-padding = ${self.label-focused-padding}

label-urgent = %index%
label-urgent-background = ${colors.alert}
label-urgent-padding = 5

[module/memory]
type = internal/memory
format = <label> <bar-used>
label = RAM

bar-used-width = 30
bar-used-foreground-0 = #aaff77
bar-used-foreground-1 = #aaff77
bar-used-foreground-2 = #fba922
bar-used-foreground-3 = #ff5555
bar-used-indicator = |
bar-used-indicator-font = 5
bar-used-indicator-foreground = #ff
bar-used-fill = ─
bar-used-fill-font = 5
bar-used-empty = ─
bar-used-empty-font = 5
bar-used-empty-foreground = #444444


[module/xbacklight]
type = internal/backlight
card = radeon_bl0

format = <label>
label =  %percentage%%
label-foreground = ${colors.tertiary}

bar-width = 10
bar-indicator = |
bar-indicator-foreground = #fff
bar-indicator-font = 0
bar-fill = ─
bar-fill-font = 0
bar-fill-foreground = #9f78e1
bar-empty = ─
bar-empty-font = 0
bar-empty-foreground = ${colors.foreground-alt}


[module/cpu]
type = internal/cpu
interval = 0.5
format = <label> <ramp-coreload>
label = CPU

ramp-coreload-0 = ▁
ramp-coreload-0-font = 4
ramp-coreload-0-foreground = #aaff77
ramp-coreload-1 = ▂
ramp-coreload-1-font = 4
ramp-coreload-1-foreground = #aaff77
ramp-coreload-2 = ▃
ramp-coreload-2-font = 4
ramp-coreload-2-foreground = #aaff77
ramp-coreload-3 = ▄
ramp-coreload-3-font = 4
ramp-coreload-3-foreground = #aaff77
ramp-coreload-4 = ▅
ramp-coreload-4-font = 4
ramp-coreload-4-foreground = #fba922
ramp-coreload-5 = ▆
ramp-coreload-5-font = 4
ramp-coreload-5-foreground = #fba922
ramp-coreload-6 = ▇
ramp-coreload-6-font = 4
ramp-coreload-6-foreground = #ff5555
ramp-coreload-7 = █
ramp-coreload-7-font = 4
ramp-coreload-7-foreground = #ff5555


[module/wired-network]
type = internal/network
interface = eno2
interval = 3.0


[module/vpn]
type = custom/script
exec = /home/michael/.config/polybar/vpn.sh
interval = 100
format = <label>
label =  %output%
label-font = 7

[module/date]
type = internal/date
interval = 1
date = " %Y-%m-%d"
date-alt = " %Y-%m-%d"

time = %l:%M
time-alt = %H:%M:%S

format-prefix = 
format-prefix-foreground = ${colors.foreground-alt}
format-underline = #0a6cf5

label = %date% %time%
label-font = 7


[module/audio]
type = internal/pulseaudio
format-volume = <ramp-volume> <label-volume>

label-muted =  0%
label-volume = %percentage%%

ramp-volume-0 = 
ramp-volume-1 = 
ramp-volume-2 = 


[module/battery]
type = internal/battery
battery = BAT1
adapter = ADP1
full-at = 98

format-charging = <ramp-capacity> <label-charging>
format-charging-underline = #ffb52a
format-discharging = <ramp-capacity> <label-discharging>
format-discharging-underline = ${self.format-charging-underline}

format-full-prefix = ""
format-full-prefix-foreground = ${colors.foreground-alt}
format-full-underline = ${self.format-charging-underline}

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-foreground = ${colors.fourth}

label-discharging = "%percentage%%"
label-discharging-foreground = ${colors.fourth}
label-charging-foreground = ${colors.fourth}


[module/powermenu]
type = custom/menu
expand-right = true
format-spacing = 1

label-open = 
label-open-foreground = ${colors.alert}
label-close = x
label-close-foreground = ${colors.secondary}
label-separator = |
label-separator-foreground = ${colors.foreground-alt}

menu-0-0 = reboot
menu-0-0-exec = menu-open-1
menu-0-1 = power off
menu-0-1-exec = menu-open-2

menu-1-0 = cancel
menu-1-0-exec = menu-open-0
menu-1-1 = reboot
menu-1-1-exec = sudo reboot

menu-2-0 = power off
menu-2-0-exec = sudo poweroff
menu-2-1 = cancel
menu-2-1-exec = menu-open-0

[module/weather]
type = custom/script
exec = busctl --user -j get-property io.ntfd /weather openweathermap.strings RenderedTemplate | jq -r .data
interval = 60
label-font = 6


[module/github]
type = custom/script
exec = busctl --user -j get-property io.ntfd /github github.strings RenderedTemplate | jq -r .data
interval = 10
label-font = 3


[settings]
screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over
;pseudo-transparency =true


[global/wm]
margin-top = 5
margin-bottom = 5
